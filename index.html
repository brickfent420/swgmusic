<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SWG</title>
    <meta name="robots" content="noindex, nofollow">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom Font Imports */
        @import url('https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&family=Inter:wght@400;700&display=swap');

        :root {
            --bg-color: #8B0000; /* Deep Red from image */
            --flow-color: #0e6ba8; /* Dark Blue/Teal */
            --wamalama-color: #FFC300; /* Yellow */
            --baja-color: #2a9d8f; /* Teal */
            --swg-color: #000000; /* Black */
            --carti-color: #8A2BE2; /* Blue Violet (Purple) for easter egg */
        }

        body {
            background-color: var(--bg-color);
            font-family: 'Inter', sans-serif;
            overflow-y: scroll; /* Prevent layout shift on filter */
        }

        /* --- Slanted Tab Navigation System --- */
        .nav-container {
            display: flex;
            width: 100%;
            overflow: hidden; /* This chops off the slanted ends to make the container vertical */
        }

        .nav-item {
            flex: 1;
            position: relative;
            height: 50px;
            cursor: pointer;
            transition: filter 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            /* The Skew Magic */
            transform: skewX(-20deg); 
            /* Push borders together */
            margin-right: -2px; 
            border-right: 2px solid white; 
        }

        /* Fix the first and last items to look 'straight' on the outer edges 
           by expanding them beyond the overflow:hidden container */
        .nav-item:first-child {
            margin-left: -20px;
            padding-left: 20px;
        }
        .nav-item:last-child {
            margin-right: -20px;
            padding-right: 20px;
            border-right: none;
        }

        /* Un-skew the text so it is readable */
        .nav-item span {
            transform: skewX(20deg);
            color: white;
            font-weight: 700;
            font-style: italic;
            font-size: 1.1rem;
            pointer-events: none; /* Let clicks pass to the button */
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        .nav-item:hover {
            filter: brightness(1.2);
        }

        /* Tab Colors */
        .nav-flow { background-color: var(--flow-color); }
        .nav-wamalama { background-color: var(--wamalama-color); }
        /* Better contrast for the yellow tab */
        .nav-wamalama span { color: black; text-shadow: none; }
        .nav-baja { background-color: var(--baja-color); }
        .nav-swg { background-color: var(--swg-color); }
        .nav-carti { background-color: var(--carti-color); } /* Purple color for easter egg */

        /* Active State Indicator (optional underline or glow) */
        .nav-item.active {
            filter: brightness(1.3);
            box-shadow: inset 0 -4px 0 rgba(255,255,255,0.3);
        }

        /* --- Album Grid & Animation --- */
        .album-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 2rem;
            padding: 2rem;
            min-height: 400px; /* Keep height consistent */
        }

        .album-card {
            background: white;
            border: 3px solid black;
            aspect-ratio: 1 / 1;
            position: relative;
            overflow: hidden;
            opacity: 0;
            transform: scale(0.9);
            animation: fadeIn 0.5s forwards;
            box-shadow: 5px 5px 0px rgba(0,0,0,0.2);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }

        .album-card:hover {
            transform: translateY(-5px) scale(1.02) !important;
            box-shadow: 8px 8px 0px rgba(0,0,0,0.3);
            z-index: 10;
        }

        .album-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Animation Keyframes */
        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                transform: scale(0.9);
            }
        }

        .animating-out {
            animation: fadeOut 0.3s forwards;
        }

        /* Loader */
        .loading-placeholder {
            width: 100%;
            height: 100%;
            background: #eee;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
        }

        /* --- Modal Styles & Animation --- */
        #album-modal {
            transition: opacity 0.5s ease, backdrop-filter 0.5s ease;
            backdrop-filter: blur(0px); /* Initial state: not blurred */
        }
        
        #album-modal.visible {
            opacity: 1;
            display: flex;
            backdrop-filter: blur(8px); /* Blurred background on visible */
        }
        
        #modal-content {
            /* Initial position: slightly scaled down and below its final resting point */
            transform: scale(0.9) translateY(50px);
            /* Smooth rise animation using a custom timing function */
            transition: transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94); 
            /* Enforce visibility */
            opacity: 1;
        }
        
        #album-modal.visible #modal-content {
            transform: scale(1) translateY(0); /* Final position: centered and full size */
        }

        .modal-title-style {
            font-style: italic; /* Title italic style */
            font-size: 2.5rem; /* Larger title */
            font-family: 'Oswald', sans-serif; /* Changed font */
        }
        
        .tracklist-expanded {
            max-height: 500px !important; /* Sufficiently large height for expansion */
        }
        /* Style for the carousel buttons for better visibility */
        .carousel-btn {
            line-height: 1; /* Fix vertical alignment */
            font-size: 1.5rem;
            text-shadow: 0 0 5px black;
        }
    </style>
</head>
<body class="flex justify-center min-h-screen py-8 px-4">

    <!-- Main White Container -->
    <main class="w-full max-w-4xl bg-white shadow-2xl relative">
        
        <!-- Header Section -->
        <header class="bg-white py-4 border-b-4 border-black text-center relative z-10 flex justify-center">
            <!-- Added id and cursor-pointer for Easter Egg trigger -->
            <img id="logo-trigger" src="https://raw.githubusercontent.com/brickfent420/swgmusic/refs/heads/main/img_res/swglogo.png" 
                 alt="SWG Logo" 
                 class="h-24 object-contain cursor-pointer">
        </header>

        <!-- Navigation Tabs (The Filter) -->
        <nav class="nav-container border-b-4 border-black bg-black">
            <div class="nav-item nav-flow" onclick="filterAlbums('flow', this)">
                <span>flowswg</span>
            </div>
            <div class="nav-item nav-wamalama" onclick="filterAlbums('wamalama', this)">
                <span>wamalama</span>
            </div>
            <div class="nav-item nav-baja" onclick="filterAlbums('baja', this)">
                <span>bajaswg</span>
            </div>
            <div class="nav-item nav-swg" onclick="filterAlbums('swg', this)">
                <span>SWG (group)</span>
            </div>
            <!-- New hidden Easter Egg item - Initially hidden with Tailwind class -->
            <div id="carti-nav-item" class="nav-item nav-carti hidden" onclick="filterAlbums('cornerstore', this)">
                <span>Corner$tore Carti</span>
            </div>
        </nav>

        <!-- Content Area -->
        <div id="album-container" class="album-grid">
            <!-- Albums will be injected here by JS -->
        </div>

        <!-- Footer / Credits (Optional, keeps the white box feeling grounded) -->
        <div class="p-4 text-center text-gray-400 text-sm">
           <p>¬© 2024 SWG Music Group</p>
        <p>& bajabricks, all rights reserved.</p>
        </div>

    </main>
    
    <!-- Modal Overlay -->
    <div id="album-modal" class="fixed inset-0 bg-black bg-opacity-75 hidden z-50 p-4 opacity-0 flex items-center justify-center">
        <!-- Modal Content (New Vertical Layout) -->
        <div id="modal-content" class="bg-white p-6 rounded-lg max-w-sm w-full shadow-2xl relative" style="border: 4px solid black;">
            <!-- z-20 ensures the close button is on top -->
            <button onclick="closeModal()" class="absolute top-2 right-4 text-3xl font-bold text-gray-800 hover:text-red-600 transition-colors focus:outline-none z-20">&times;</button>
            
            <div class="flex flex-col gap-4 items-center">
                
                <!-- Album Cover / GIF Carousel Container -->
                <div class="w-full aspect-square relative mb-4 shadow-xl rounded-lg overflow-hidden">
                    <img id="modal-cover" src="" alt="Album Cover" class="w-full h-full object-cover transition-opacity duration-300">

                    <!-- Left Arrow -->
                    <button onclick="cycleImage(-1)" class="carousel-btn absolute left-0 top-1/2 transform -translate-y-1/2 p-2 bg-black bg-opacity-50 text-white hover:bg-opacity-80 rounded-r-lg transition-all focus:outline-none">
                        &lt;
                    </button>
                    <!-- Right Arrow -->
                    <button onclick="cycleImage(1)" class="carousel-btn absolute right-0 top-1/2 transform -translate-y-1/2 p-2 bg-black bg-opacity-50 text-white hover:bg-opacity-80 rounded-l-lg transition-all focus:outline-none">
                        &gt;
                    </button>

                    <!-- Indicator for Image Type -->
                    <div id="image-indicator" class="absolute bottom-2 left-1/2 transform -translate-x-1/2 text-xs px-3 py-1 rounded-full bg-black bg-opacity-70 text-white font-semibold">
                        Album Cover
                    </div>
                </div>
                
                <!-- Album Info (Vertical) -->
                <h2 id="modal-title" class="modal-title-style text-center font-extrabold"></h2>
                <p id="modal-artist" class="text-lg text-gray-600 mb-4"></p>
                
                <div id="link-container" class="space-y-3 w-full mb-6">
                    <!-- Standard Links (Visible by default) -->
                    <a id="spotify-link" href="#" target="_blank" class="w-full flex items-center justify-center py-3 px-4 bg-green-500 text-white font-bold rounded-lg shadow-md hover:bg-green-600 transition duration-150">
                        Listen on Spotify
                    </a>
                    <a id="apple-music-link" href="#" target="_blank" class="w-full flex items-center justify-center py-3 px-4 bg-red-500 text-white font-bold rounded-lg shadow-md hover:bg-red-600 transition duration-150">
                        Listen on Apple Music
                    </a>
                    <!-- Custom Easter Egg Link (Hidden by default) -->
                    <a id="custom-link" href="#" target="_blank" class="hidden w-full flex items-center justify-center py-3 px-4 bg-gray-300 text-black font-bold rounded-lg shadow-md hover:bg-gray-400 transition duration-150">
                        Listen On üóëÔ∏è
                    </a>
                </div>

                <!-- Tracklist Section -->
                <button id="tracklist-toggle" onclick="toggleTracklist()" class="w-full py-2 px-4 bg-gray-200 text-black font-semibold rounded-lg hover:bg-gray-300 transition duration-150 flex items-center justify-between shadow-sm">
                    <span>Show Tracklist</span>
                    <span id="tracklist-icon" class="text-xl transform transition-transform duration-300">+</span>
                </button>
                <!-- List Container (hidden by default) -->
                <ul id="modal-tracklist" class="mt-4 space-y-1 w-full list-none p-0 max-h-0 overflow-hidden transition-max-height duration-500 ease-in-out border-l-2 border-gray-200 pl-4">
                    <!-- Tracklist items injected here -->
                </ul>
            </div>
        </div>
    </div>

    <script>
        // --- Constants ---
        const GIF_URL = 'https://raw.githubusercontent.com/brickfent420/swgmusic/refs/heads/main/img_res/3dgifmaker81059.gif';
        const LOGO_CLICKS_REQUIRED = 10;
        const EASTER_EGG_LINK = 'https://untitled.stream/library/project/S3L9a4VLwC3sgKDzpV8dw';

        // ==========================================================
        // --- START EDITABLE ALBUM DATA ---
        // You can easily edit the titles, tracklists, URLs, and image paths here.
        // ==========================================================
        const albums = [
            // FLOW
            { id: 1, artist: 'flow', src: 'https://raw.githubusercontent.com/brickfent420/swgmusic/refs/heads/main/img_res/REPDATSHI.jpg', title: 'Rep Dat Shit', spotifyUrl: 'https://open.spotify.com/album/3vjRPMduHYK2IqflSPBm91', appleMusicUrl: 'https://apple.com/', tracklist: ['Rep Dat Shit (feat. Baja)'] },
            { id: 2, artist: 'flow', src: 'https://raw.githubusercontent.com/brickfent420/swgmusic/refs/heads/main/img_res/RESURGENCE.jpg', title: 'The Resurgence', spotifyUrl: 'https://open.spotify.com/album/2XkJNDhzdybp0TCeLh5pFD', appleMusicUrl: 'https://apple.com/', tracklist: ['Reborn (feat. Wamalama, DDripLit, The Golden Child)', 'The Redux (feat. Baja)', 'WV GOLF (feat. Wamalama, BandoB1)', 'Serpents', 'Ski-Hi', '50/50 (feat. Wamalama, Baja)', 'Control (feat. apnp_apnu)', 'Resurgence', 'free'] },
            { id: 3, artist: 'flow', src: 'https://raw.githubusercontent.com/brickfent420/swgmusic/refs/heads/main/img_res/VWGOLF.jpg', title: 'VW GOLF', spotifyUrl: 'https://open.spotify.com/album/6n1lk9s3m6VjtQkBFSVYlK', appleMusicUrl: 'https://apple.com/', tracklist: ['VW GOLF (feat. wamalama, BandoB1)'] },
            { id: 4, artist: 'flow', src: 'https://raw.githubusercontent.com/brickfent420/swgmusic/refs/heads/main/img_res/SNP.jpg', title: 'SOULS NEWEST PRODIGY', spotifyUrl: 'https://open.spotify.com/album/1HmD7rJdKygaaeAUFqD0Lw', appleMusicUrl: 'https://apple.com/', tracklist: ['SOULS NEWEST PRODIGY (feat. wamalama)'] },
            
            // WAMALAMA
            { id: 5, artist: 'wamalama', src: 'https://raw.githubusercontent.com/brickfent420/swgmusic/refs/heads/main/img_res/RUST.png', title: 'Rust', spotifyUrl: 'https://open.spotify.com/album/16Jil4Nga7Hv8nhXNeRZch', appleMusicUrl: 'https://apple.com/', tracklist: ['Rust (feat. Baja, flowswg)'] },
            
            // BAJA
            { id: 6, artist: 'baja', src: 'https://raw.githubusercontent.com/brickfent420/swgmusic/refs/heads/main/img_res/ITSKILLIN.png', title: 'Its Killin', spotifyUrl: 'https://open.spotify.com/album/3ZDI1r2njQJTXYIOE3onUm', appleMusicUrl: 'https://apple.com/', tracklist: ['Its Killin (feat. flowswg, wamalama, alexis)'] },
            { id: 7, artist: 'baja', src: 'https://raw.githubusercontent.com/brickfent420/swgmusic/refs/heads/main/img_res/SOWP%20concept%202.png', title: 'Straight Outta West P', spotifyUrl: 'https://spotify.com/', appleMusicUrl: 'https://apple.com/', tracklist: ['Coming Soon!'] },
            
            // SWG GROUP
            { id: 8, artist: 'swg', src: 'https://raw.githubusercontent.com/brickfent420/swgmusic/refs/heads/main/img_res/5050.jpg', title: '50/50', spotifyUrl: 'https://open.spotify.com/album/3mVEogu5r1tfn93A63tFOo', appleMusicUrl: 'https://apple.com/', tracklist: ['50/50 (feat. wamalama, baja)'] },

            // --- EASTER EGG ALBUMS (cornerstore) ---
            { id: 9, artist: 'cornerstore', src: 'https://raw.githubusercontent.com/brickfent420/swgmusic/refs/heads/main/img_res/cornerstone_carti.jpg', title: 'Corner$tore Carti', specialLink: true, tracklist: ['Corner$tore Carti', 'Take Her Back', 'Sippin Lean (feat. C0nYe Wong & Trevis Scoot)', 'Parole'] },
            { id: 10, artist: 'cornerstore', src: 'https://raw.githubusercontent.com/brickfent420/swgmusic/refs/heads/main/img_res/playbert.png', title: 'playbert farti', specialLink: true, tracklist: ['playbert farti (feat. Osamabinladenson, CHNA, corner$tore carti)'] },
            { id: 11, artist: 'cornerstore', src: 'https://raw.githubusercontent.com/brickfent420/swgmusic/refs/heads/main/img_res/sippinlean.png', title: 'Sippin Lean (Re-Mixed)', specialLink: true, tracklist: ['Sippin Lean (Re-Mixed) (feat. C0nYe Wong & Trevis Scoot)'] },
        ];
        // ==========================================================
        // --- END EDITABLE ALBUM DATA ---
        // ==========================================================


        // --- Element References ---
        const container = document.getElementById('album-container');
        const modal = document.getElementById('album-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalArtist = document.getElementById('modal-artist');
        const modalCover = document.getElementById('modal-cover');
        const spotifyLink = document.getElementById('spotify-link');
        const appleMusicLink = document.getElementById('apple-music-link');
        const customLink = document.getElementById('custom-link'); // New element reference
        const modalTracklist = document.getElementById('modal-tracklist');
        const tracklistIcon = document.getElementById('tracklist-icon');
        const logoTrigger = document.getElementById('logo-trigger'); // New element reference
        const cartiNavItem = document.getElementById('carti-nav-item'); // New element reference

        // --- State ---
        let currentFilter = 'flow'; // Default category
        let imageSources = [];      // Stores [static_cover, gif_url]
        let currentImageIndex = 0;  // 0 for cover, 1 for GIF
        let logoClickCount = 0;     // Easter Egg counter
        let easterEggUnlocked = false;

        // --- Easter Egg Logic ---
        function handleLogoClick() {
            if (easterEggUnlocked) return;

            logoClickCount++;
            
            // Console log for debugging, but not necessary for user experience
            // console.log(`Logo clicked: ${logoClickCount}`); 

            if (logoClickCount >= LOGO_CLICKS_REQUIRED) {
                unlockEasterEgg();
            }
        }

        function unlockEasterEgg() {
            if (easterEggUnlocked) return;
            easterEggUnlocked = true;
            
            // Show the hidden navigation tab
            cartiNavItem.classList.remove('hidden');
        }


        // --- Functions ---

        function renderAlbums(filter) {
            // 1. Fade out existing
            const existingCards = Array.from(container.children);
            
            if (existingCards.length > 0) {
                existingCards.forEach(card => card.classList.add('animating-out'));
                
                // Wait for fade out to finish before removing and adding new ones
                setTimeout(() => {
                    container.innerHTML = '';
                    addAlbumsToDom(filter);
                }, 300); // Matches CSS fadeOut duration
            } else {
                addAlbumsToDom(filter);
            }
        }

        function addAlbumsToDom(filter) {
            const filteredAlbums = albums.filter(album => album.artist === filter);

            if (filteredAlbums.length === 0) {
                container.innerHTML = `<div class="col-span-full text-center text-gray-400 py-10">No albums found for this artist.</div>`;
                return;
            }

            filteredAlbums.forEach((album, index) => {
                const card = document.createElement('div');
                card.className = 'album-card group';
                
                // Stagger animation slightly for cool effect
                card.style.animationDelay = `${index * 100}ms`;

                // Add click handler and data attribute for easy album lookup
                card.onclick = () => handleAlbumClick(album.id);
                
                const img = document.createElement('img');
                img.src = album.src;
                img.alt = album.title;
                img.loading = "lazy";
                
                // Fallback for broken images
                img.onerror = function() {
                    this.style.display = 'none';
                    const fallback = document.createElement('div');
                    fallback.className = 'loading-placeholder';
                    fallback.innerText = album.title;
                    card.appendChild(fallback);
                };

                card.appendChild(img);
                container.appendChild(card);
            });
        }

        function filterAlbums(category, btnElement) {
            if (category === currentFilter) return; // Prevent re-triggering same tab

            // Update Active State on Buttons
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            // Include the hidden element when searching for active state
            if(btnElement) btnElement.classList.add('active');

            currentFilter = category;
            renderAlbums(category);
        }
        
        // --- Modal Logic ---

        function updateImageIndicator() {
            const indicator = document.getElementById('image-indicator');
            if (currentImageIndex === 0) {
                indicator.textContent = 'Album Cover';
            } else {
                indicator.textContent = '3D GIF';
            }
        }

        function cycleImage(direction) {
            // Calculate new index, wrapping around using modulo
            currentImageIndex = (currentImageIndex + direction + imageSources.length) % imageSources.length;
            modalCover.src = imageSources[currentImageIndex];
            updateImageIndicator();
        }


        function handleAlbumClick(albumId) {
            const album = albums.find(a => a.id === albumId);
            if (!album) return;

            // 1. Setup Image Carousel Sources and reset index
            imageSources = [album.src, GIF_URL];
            currentImageIndex = 0; // Always start at the static cover
            
            // 2. Populate Modal Content
            modalTitle.textContent = album.title;
            
            // --- UPDATED LOGIC to reflect 'Corner$tore Carti' name correctly ---
            let artistDisplayName = album.artist.toUpperCase();
            if (album.artist === 'swg') {
                artistDisplayName = 'SWG Group';
            } else if (album.artist === 'cornerstore') {
                artistDisplayName = 'Corner$tore Carti (EE)'; // Using the requested name
            }
            modalArtist.textContent = artistDisplayName;
            // --- END UPDATED LOGIC ---
            
            modalCover.src = imageSources[currentImageIndex]; // Display the initial cover
            modalCover.alt = album.title;
            updateImageIndicator(); // Set initial indicator text
            
            // --- Link Visibility Logic ---
            if (album.specialLink) {
                // Show custom link, hide standard links
                spotifyLink.classList.add('hidden');
                appleMusicLink.classList.add('hidden');
                customLink.classList.remove('hidden');
                customLink.href = EASTER_EGG_LINK;
            } else {
                // Show standard links, hide custom link
                spotifyLink.classList.remove('hidden');
                appleMusicLink.classList.remove('hidden');
                customLink.classList.add('hidden');
                
                // Populate standard links
                spotifyLink.href = album.spotifyUrl;
                appleMusicLink.href = album.appleMusicUrl;
            }

            // Populate Tracklist
            modalTracklist.innerHTML = '';
            album.tracklist.forEach((track, index) => {
                const li = document.createElement('li');
                li.className = 'text-sm text-gray-700';
                // Note: The tracklist array now stores just the track name, index is added here
                li.textContent = `${index + 1}. ${track}`; 
                modalTracklist.appendChild(li);
            });
            
            // Reset tracklist state
            modalTracklist.classList.remove('tracklist-expanded');
            tracklistIcon.style.transform = 'rotate(0deg)';
            document.getElementById('tracklist-toggle').firstChild.textContent = 'Show Tracklist';


            // 3. Show Modal (Triggers blur and rise animation)
            modal.classList.remove('hidden');
            setTimeout(() => {
                modal.classList.add('visible');
            }, 10); 
        }

        function closeModal() {
            modal.classList.remove('visible');
            // Hide after transition
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 500); // Matches CSS transition duration
        }

        function toggleTracklist() {
            const toggleButtonSpan = document.getElementById('tracklist-toggle').firstChild;
            const isExpanded = modalTracklist.classList.toggle('tracklist-expanded');
            
            // Change the text and icon
            if (isExpanded) {
                tracklistIcon.style.transform = 'rotate(45deg)'; // Change '+' to 'X' effect
                toggleButtonSpan.textContent = 'Hide Tracklist';

            } else {
                tracklistIcon.style.transform = 'rotate(0deg)';
                toggleButtonSpan.textContent = 'Show Tracklist';
            }
        }

        // Allow closing modal by clicking outside
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                closeModal();
            }
        });
        
        // --- Initialization ---
        window.onload = () => {
            // Set initial active tab visually
            const flowBtn = document.querySelector('.nav-flow');
            if(flowBtn) flowBtn.classList.add('active');
            
            // Initial Render
            renderAlbums('flow');

            // Attach Easter Egg listener
            if (logoTrigger) {
                logoTrigger.addEventListener('click', handleLogoClick);
            }
        };

    </script>
</body>
</html>
